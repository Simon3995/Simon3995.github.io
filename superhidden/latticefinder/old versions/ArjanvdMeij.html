// function for finding configuration
find_config = function (filled = [... Array(256)].fill(1), arr = [], idxx = 0, idxy = 0) {
    if (idxx === 16) idxx = 0, idxy++, console.log(idxy), console.log(JSON.stringify(arr));
    if (idxy === 16) return arr;
    arr[idxy] ??= [];
    for (let i in filled) {
        i = Number(i);
        // checks not taken
        if (!filled[i]) continue;
        // other checks
        // upper left
        //let tmp = arr[idxy-1]?.[idxx-1] & (1 << 3);
        //if (i & (1 << 7) ? !tmp : tmp) continue;
        // upper
        tmp = arr[idxy-1]?.[idxx] & (1 << 4);
        if (i & (1 << 0) ? !tmp : tmp) continue;
        // upper right
        //tmp = arr[idxy-1]?.[idxx+1] & (1 << 5);
        //if (i & (1 << 1) ? !tmp : tmp) continue;
        // left
        //tmp = arr[idxy]?.[idxx-1] & (1 << 2);
        //if (i & (1 << 6) ? !tmp : tmp) continue;

        // test recursively
        arr[idxy][idxx] = i;
        delete filled[i];
        let ans = find_config(filled, arr, idxx + 1, idxy);
        if (ans) return ans;
        filled[i] = 1;
        delete arr[idxy][idxx];
    }
    return false;
}

console.log(JSON.stringify(find_config()));
